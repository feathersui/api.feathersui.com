<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../jquery-1.9.1.min.js"></script><script src="../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../styles.css" rel="stylesheet"/><link href="../../../extra-styles.css" rel="stylesheet"/><link href="../../../haxe-nav.css" rel="stylesheet"/><link href="../../../dark-mode.css" rel="stylesheet"/><script>var dox = {rootPath: "../../../",platforms: ["types"]};</script><script src="../../../nav.js"></script><script src="../../../index.js"></script><link rel="icon" href="../../../favicon.ico" type="image/x-icon"/><title>feathers.rpc.http.SerializationFilter - Feathers UI RPC Services API Reference (Haxe/OpenFL)</title><meta name="description" content="This class is useful for framework developers wishing to plug in or modify the
HTTP services to use a new serialization format.  This allows you to invoke
methods on the service object and control how parameters are mapped to a specific
serialiation format such as XML, JSON, etc.  The SerializationFilter mechanism
allows you to add a new resultFormat as well."/></head><body><script>/* Here to prevent flash of unstyled content */let systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if ((!localStorage.theme && systemDarkMode) || localStorage.theme == "dark") {document.body.style.backgroundColor = "#111";document.body.style.opacity = "0";document.addEventListener("DOMContentLoaded", function(event) {toggleTheme();document.body.style.backgroundColor = "";document.body.style.opacity = "";});}</script><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
</style><nav class="nav"><div class="navbar navbar-static-top"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#292522" href="../../../">Feathers UI RPC Services API Reference (Haxe/OpenFL)</a><a href="#" id="theme-toggle" style="color:#292522" onclick="toggleTheme()" title="Toggle Dark Mode"><i class="fa fa-moon-o"></i></a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="fa fa-search"></i></span><input id="search" type="text" placeholder="Filter (Ctrl+P)" autocomplete="off"/></div></form></div><div class="well sidebar-nav" id="explorer"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/feathersui/feathersui-rpc-services/tree/master/src/feathers/rpc/http/SerializationFilter.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> SerializationFilter</h1><h4><small>package <a href="../../../feathers/rpc/http/index.html">feathers.rpc.http</a></small></h4>    <span class="label label-meta label-meta-directlyUsed" title="Marks types that are directly referenced by non-extern code.">@:directlyUsed</span></div><div class="body"><div class="doc doc-main"><p>This class is useful for framework developers wishing to plug in or modify the
HTTP services to use a new serialization format.  This allows you to invoke
methods on the service object and control how parameters are mapped to a specific
serialiation format such as XML, JSON, etc.  The SerializationFilter mechanism
allows you to add a new resultFormat as well.</p>
<p>An instance of this class can manage formatting HTTP requests, responses, and
converting their parameters.  When you use HTTPService or HTTPMultiService, you 
are usually talking to a server which expects the data to be provided in a specific
format - for example, URL encoded values for a type HTML form, XML values or another
serialization format such as JSON.  SerializationFilter 
allows you to customize how HTTPService and HTTPMultiService convert an operation's
parameters into the body of the HTTP request and how the response is converted into
the return value of the operation.  Framework developers can introduce a new serialization
format to the system by providing a new implementation of the SerializationFilter and
use these components and all of the frameworks and tools built on these components
without having to know the details of the format itself.</p>
<p>The first thing you do is to extend the SerializationFilter and override one or more
of the conversion methods.   The filter allows you to turn the ordered list of parameters
into a request body, modify the request body, modify the content type used in the
request, modify the actual URL used in the request, and convert the response data into
the result object returned in the result event of the service.</p>
<p>There are two ways to specify the SerializationFilter for a particular HTTPService,
or HTTPMultiService.  You can either set the serializationFilter property on the service
or you can statically register a SerializationFilter for a new result format.  If you
use this approach, simply by specifying the resultFormat you can use a pre-registered
SerializationFilter.  So for example, you might register a SerializationFilter for the
"json" type and can then use that filter by setting resultFormat="json".</p>
<p>Note that HTTPService only provides methods which directly take the request body
and so does not use the "serializeParameters" method.</p></div><h3 class="section">Static methods</h3><div class="fields"><div class="field "><a name="registerFilterForResultFormat"></a><h3 class="anchor"><code><span class="label label-static">static</span><a href="#registerFilterForResultFormat"><span class="identifier">registerFilterForResultFormat</span></a>(<span style="white-space:nowrap">resultFormat:<span class="type">String</span>,</span> <span style="white-space:nowrap">filter:<a class="type" title="feathers.rpc.http.SerializationFilter - This class is useful for framework developers wishing to plug in or modify the HTTP services to use a new serialization format." href="../../../feathers/rpc/http/SerializationFilter.html">SerializationFilter</a></span>):<a class="type" title="feathers.rpc.http.SerializationFilter - This class is useful for framework developers wishing to plug in or modify the HTTP services to use a new serialization format." href="../../../feathers/rpc/http/SerializationFilter.html">SerializationFilter</a></code></h3><div class="doc"><p>This static function is used to register a new SerializationFilter for a 
particular resultFormat value.  If you call this method once at startup,
you can then just specify the resultFormat property of an HTTPService or HTTPMultiService
to use that serialization filter to make it easier for developers to specify a
format.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>resultFormat</code></th><td><p>A custom resultFormat name to be associated with the supplied
SerializationFilter.  </p></td></tr><tr><th style="width:25%;"><code>filter</code></th><td><p>The SerializationFilter to register.</p></td></tr></table></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="deserializeResult"></a><h3 class="anchor"><code><a href="#deserializeResult"><span class="identifier">deserializeResult</span></a>(<span style="white-space:nowrap">operation:<a class="type" title="feathers.rpc.http.AbstractOperation - An Operation used specifically by HTTPService or HTTPMultiService." href="../../../feathers/rpc/http/AbstractOperation.html">AbstractOperation</a>,</span> <span style="white-space:nowrap">result:<span class="type">Dynamic</span></span>):<span class="type">Dynamic</span></code></h3><div class="doc"><p>This method takes the result from the HTTP request in a raw format.  It 
can convert it to a more fully typed ActionScript object if desired.<br />
To make the SerializationFilter more general, you can use the resultType or 
resultElementType properties of the AbstractOperation provided so your code can 
dynamically map the incoming request to the type configured in ActionScript as
the return type.</p>
<p>Note also that AbstractOperation has a "properties" map which you
can use to store additional properties as part of the service invocation
in ActionScript to handle the deserialization of a particular type.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>operation</code></th><td><p>The AbstractOperation which is being invoked.  </p></td></tr><tr><th style="width:25%;"><code>result</code></th><td><p>the raw result as returned from the server.  </p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the converted result which will then be supplied in the result event
for the service.</p></div></div></div><div class="field "><a name="getRequestContentType"></a><h3 class="anchor"><code><a href="#getRequestContentType"><span class="identifier">getRequestContentType</span></a>(<span style="white-space:nowrap">operation:<a class="type" title="feathers.rpc.http.AbstractOperation - An Operation used specifically by HTTPService or HTTPMultiService." href="../../../feathers/rpc/http/AbstractOperation.html">AbstractOperation</a>,</span> <span style="white-space:nowrap">obj:<span class="type">Dynamic</span>,</span> <span style="white-space:nowrap">contentType:<span class="type">String</span></span>):<span class="type">String</span></code></h3><div class="doc"><p>This method is called by the HTTP service just before a call is made.  Its role
is to choose the contentType used for this request.  For many serialization
formats, there is a single fixed content type so you might just return that content
type here.  Since the HTTPService is itself configured with a content type, that
value is passed in here and returned by the default implementation.  The request
body being serialized is also provided with the obj parameter just in case the 
content type depends on the type of object being sent to the server.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>operation</code></th><td><p>The AbstractionOperation being invoked.</p></td></tr><tr><th style="width:25%;"><code>obj</code></th><td><p>the body of the HTTP request being serialized</p></td></tr><tr><th style="width:25%;"><code>contentType</code></th><td><p>the contentType configured for the operation</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the content type to use for this HTTP request.</p></div></div></div><div class="field "><a name="serializeBody"></a><h3 class="anchor"><code><a href="#serializeBody"><span class="identifier">serializeBody</span></a>(<span style="white-space:nowrap">operation:<a class="type" title="feathers.rpc.http.AbstractOperation - An Operation used specifically by HTTPService or HTTPMultiService." href="../../../feathers/rpc/http/AbstractOperation.html">AbstractOperation</a>,</span> <span style="white-space:nowrap">obj:<span class="type">Dynamic</span></span>):<span class="type">Dynamic</span></code></h3><div class="doc"><p>This method is called for all invocations of the HTTP service.  It is able to convert
the supplied object into a form suitable for placing directly in the HTTP's request
body.  The default implementation just returns the object passed in as the body without
any conversion.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>operation</code></th><td><p>The AbstractOperation being invoked</p></td></tr><tr><th style="width:25%;"><code>obj</code></th><td><p>the initial body of the HTTP request, either the return value of serializeParameters or the parameter to the sendBody method
or the send method of HTTPService.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the potentially converted body to use in the request.</p></div></div></div><div class="field "><a name="serializeParameters"></a><h3 class="anchor"><code><a href="#serializeParameters"><span class="identifier">serializeParameters</span></a>(<span style="white-space:nowrap">operation:<a class="type" title="feathers.rpc.http.AbstractOperation - An Operation used specifically by HTTPService or HTTPMultiService." href="../../../feathers/rpc/http/AbstractOperation.html">AbstractOperation</a>,</span> <span style="white-space:nowrap">params:<span class="type">Array</span>&lt;<span class="type">Dynamic</span>&gt;</span>):<span class="type">Dynamic</span></code></h3><div class="doc"><p>This method is called from the "send" method of the HTTP service invocation to convert the
parameters into a request body.  The parameters of the original send call are put into the
params array.  This method converts this set of parameters into to a single object which is used as the 
data for the HTTP request body.  The default implementation produces an object where the 
keys are the values in the Operation's argumentNames array and the values are the values of the parameters.
When using the default implementation, you must set argumentNames to have the same number
of elements as the parameters array.</p>
<p>Note that this method is not used if you invoke the HTTP operation using the sendBody
method which just takes a single object.  In that case, this step is skipped and only
the serializeBody method is called.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>operation</code></th><td><p>The AbstractOperation being invoked.</p></td></tr><tr><th style="width:25%;"><code>params</code></th><td><p>the list of parameters passed to the send method</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the body to be used in the HTTP request</p></div></div></div><div class="field "><a name="serializeURL"></a><h3 class="anchor"><code><a href="#serializeURL"><span class="identifier">serializeURL</span></a>(<span style="white-space:nowrap">operation:<a class="type" title="feathers.rpc.http.AbstractOperation - An Operation used specifically by HTTPService or HTTPMultiService." href="../../../feathers/rpc/http/AbstractOperation.html">AbstractOperation</a>,</span> <span style="white-space:nowrap">obj:<span class="type">Dynamic</span>,</span> <span style="white-space:nowrap">url:<span class="type">String</span></span>):<span class="type">String</span></code></h3><div class="doc"><p>This method is used if you need to take data from the request body object and encode
it into the URL string.  It is given the incoming URL as configured on the operation
or service.  This implementation just returns the incoming URL without any conversion.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>operation</code></th><td><p>The AbstractOperation being invoked</p></td></tr><tr><th style="width:25%;"><code>url</code></th><td><p>the URL set on the service or operation</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the potentially modified URL to use for this request.</p></div></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#FAFAFA"><div class="container"><div class="copyright"><p style="color:#292522"><a href="https://feathersui.com/">Feathers UI</a> — Copyright &copy; 2022 Bowler Hat LLC</p></div></div></footer><script src="../../..//highlighter.js"></script><link href="../../../highlighter.css" rel="stylesheet"/></body></html>